# 15.6.2.1 Clustered and Secondary Indexes
## 聚簇索引你和二级索引
每个InnoDB表都有一个特殊的索引叫做聚簇索引，用于存储行的数据。通常来说，聚簇索引和主键同义。为了从查询、插入和其它数据库操作中获取最好的性能，你必须懂得InnoDB如何使用聚簇索引优化最常见的查找和DML语句。
* 当你在你的表上定义主键时，InnoDB使用主键作为聚簇索引。所以请为你创建的每一张表创建主键。如果没有逻辑唯一并且非空的列或者列集（主键也可以为联合主键的），添加一个新的自增列。
* 如果你不在表上定义主键，MySQL将在所有非空列中找到第一个是唯一索引的列，InnoDB将此列作为聚簇索引。
* 如果表上不存在主键也没有合适的唯一索引，InnoDB内部将会在包含行ID的合成列上创建一个名为GEN_CLUST_INDEX的隐藏聚簇索引。数据行按照InnoDB分配给这个表中行的ID排序。行ID是一个6字节的字段，随着新行的插入而单调增加。因此，数据行按照行ID排序，也是按照插入顺序排序。

## 聚簇索引怎么加快查询速度
通过聚簇索引访问一行数据非常快，因为索引查询直接导向了查询数据所在的page。如果一个表很大，聚簇索引的结构通常比其它类型的结构（将数据保存在不同的page上）节省IO操作。

## 二级索引如何关联到聚簇索引
除聚簇索引外的所有索引都被称为二级索引。在InnoDB中，所有二级索引的记录都保存了对应数据的主键，InnoDB使用此主键在聚簇索引中查找对应数据。
如果主键很长，二级索引将使用更多的空间，所以短主键是有利的。
